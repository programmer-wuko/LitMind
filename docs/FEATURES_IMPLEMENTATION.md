# 功能实现说明

## 已实现功能

### 1. 文章推荐模块（智能推荐）

#### 前端组件
- ✅ `RecommendationCard` - 推荐卡片组件
  - 显示论文标题、作者、来源
  - 显示推荐理由
  - 支持查看（内部文件）、导入分析（外部文献）、不感兴趣操作
  - 区分内部文件和外部文献的显示

- ✅ `RecommendationList` - 推荐列表组件
  - 显示3-5篇推荐文献
  - 刷新推荐按钮（🔄图标）
  - 加载状态提示（骨架屏）
  - 空状态提示

#### 后端API
- ✅ `GET /recommendations` - 获取用户推荐
- ✅ `POST /recommendations/generate` - 生成/刷新推荐
- ✅ `PUT /recommendations/{id}/feedback` - 更新反馈（不感兴趣）

#### 功能特点
- 刷新推荐：点击刷新按钮重新计算并加载最新推荐
- 反馈机制：支持标记"不感兴趣"，用于优化后续推荐
- 加载状态：刷新过程显示加载动画和骨架屏

---

### 2. 文章管理模块（个人文献组织）

#### 文件夹管理
- ✅ 树形结构展示（可展开/折叠）
- ✅ 新建文件夹：通过"新建文件夹"按钮创建
- ✅ 重命名文件夹：点击编辑图标，支持内联编辑
- ✅ 删除文件夹：删除前弹出确认对话框
- ✅ 文件夹选择：点击文件夹切换当前目录

#### 文件管理
- ✅ 文件列表展示
- ✅ 上传PDF：通过"上传文件"按钮
- ✅ 重命名文件：点击编辑图标，支持内联编辑
- ✅ 删除文件：删除前弹出确认对话框
- ✅ 查看文件：点击文件或查看按钮进入PDF分析页面
- ✅ 状态标记：
  - ✅ 已分析（绿色对勾）
  - 🔄 处理中（蓝色旋转图标）

#### 后端API
- ✅ `GET /folders` - 获取文件夹列表
- ✅ `POST /folders` - 创建文件夹
- ✅ `PUT /folders/{id}` - 更新文件夹（重命名）
- ✅ `DELETE /folders/{id}` - 删除文件夹
- ✅ `GET /files` - 获取文件列表
- ✅ `POST /files/upload` - 上传文件
- ✅ `PUT /files/{id}` - 更新文件（重命名、移动）
- ✅ `DELETE /files/{id}` - 删除文件

---

## 页面布局

### Dashboard页面结构
```
┌─────────────────────────────────────────┐
│  推荐模块（顶部）                         │
│  - 智能推荐卡片（3-5篇）                  │
│  - 刷新推荐按钮                           │
└─────────────────────────────────────────┘
┌──────────┬──────────────────────────────┐
│ 文件夹树  │  文件列表                      │
│ - 根目录  │  - 文件卡片（带状态标记）      │
│ - 文件夹  │  - 上传按钮                    │
│ - 新建    │  - 重命名/删除操作             │
└──────────┴──────────────────────────────┘
```

---

## 交互特性

### 1. 响应式设计
- 左侧导航栏始终可见
- 小屏幕可折叠（待实现）

### 2. 用户反馈
- ✅ 所有异步操作提供成功/失败提示
- ✅ 加载状态提示（骨架屏、旋转图标）
- ✅ 删除操作确认对话框

### 3. 状态管理
- 文件状态：已分析、处理中、未处理
- 文件夹展开/折叠状态
- 当前选中文件夹状态

---

## 技术实现

### 前端技术栈
- React + Next.js 14
- TypeScript
- Tailwind CSS
- React Query（状态管理）
- Lucide React（图标）

### 后端技术栈
- Spring Boot 2.7.18
- Java 8
- Spring Data JPA
- Spring Security

---

## 待完善功能

### 推荐模块
- [ ] 外部文献导入功能（下载PDF并分析）
- [ ] 更智能的推荐算法（基于PDF分析内容）
- [ ] 推荐理由的详细展示

### 文件管理
- [ ] 拖拽调整文件/文件夹位置
- [ ] 多级文件夹的完整树形结构
- [ ] 文件搜索功能
- [ ] 批量操作（批量删除、批量移动）

### 其他
- [ ] 响应式折叠导航栏
- [ ] 文件预览（非PDF文件）
- [ ] 文件分享功能

---

## 使用说明

### 推荐模块
1. 访问Dashboard页面，顶部显示推荐列表
2. 点击"刷新推荐"按钮重新生成推荐
3. 点击"不感兴趣"标记不喜欢的推荐
4. 点击"查看"或"导入分析"操作推荐文献

### 文件管理
1. 左侧文件夹树选择文件夹
2. 点击"新建文件夹"创建新文件夹
3. 点击文件夹/文件的编辑图标进行重命名
4. 点击删除图标删除文件夹/文件（需确认）
5. 点击文件或查看按钮进入PDF分析页面

---

## 注意事项

1. **推荐功能**：当前使用简化算法，实际生产环境需要集成外部API（如arXiv、Semantic Scholar）
2. **文件状态**：需要后端PDF分析服务支持，当前为前端展示逻辑
3. **删除操作**：文件夹删除会检查是否为空，但未实现递归删除子文件夹
4. **重命名**：会检查同名冲突，但未实现自动重命名（如"文件名(1)"）

